<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Happy Birthday Lucy ‚Äî 29 wishes</title>
<style>
  :root{
    --font-size: clamp(18px, 3.6vw, 30px);
    --line-gap: 12px;
    --card-bg: rgba(255,255,255,.06);
    --card-br: 16px;
    --wish-gradient: linear-gradient(270deg,#ff4d6d,#f7aef8,#9b5de5,#00bbf9,#00f5d4,#ff4d6d);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:#07060a; color:#fff;
    font-family:"Segoe UI",system-ui,-apple-system,Arial,"Noto Color Emoji",sans-serif;
    overflow:hidden;  /* ch√∫ng ta d√πng v√πng scroll ri√™ng cho danh s√°ch */
  }

  /* Ph√°o hoa ·ªü l·ªõp d∆∞·ªõi c√πng */
  canvas#fx{position:fixed; inset:0; z-index:0; background: radial-gradient(circle at 50% 15%, #1a132b 0%, #0c0b12 60%, #07060a 100%);}

  /* V√πng n·ªôi dung ch√≠nh */
  .stage{
    position:relative; z-index:2; height:100%;
    display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
    padding:16px 16px 120px;
  }

  /* Header */
  .hdr{
    margin-top:10px;
    display:flex; gap:10px; align-items:center; justify-content:center; flex-wrap:wrap;
    text-align:center;
  }
  .title{
    font-weight:800; letter-spacing:.4px; margin:0;
    font-size: clamp(22px, 4.5vw, 42px);
    background: var(--wish-gradient); background-size:1200% 1200%;
    -webkit-background-clip:text; -webkit-text-fill-color:transparent;
    animation: grad 12s ease infinite;
    text-shadow: 0 0 24px rgba(255,255,255,.18);
  }
  .count{
    padding:.35rem .7rem; border:1px solid rgba(255,255,255,.2);
    border-radius:999px; font-weight:600; font-size:14px; opacity:.85;
    backdrop-filter: blur(6px); background: rgba(255,255,255,.06);
  }
  @keyframes grad{
    0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%}
  }

  /* H√†ng n√∫t */
  .controls{
    display:flex; gap:8px; margin-top:8px; flex-wrap:wrap; justify-content:center;
  }
  button.ui{
    border:1px solid rgba(255,255,255,.25);
    background: rgba(255,255,255,.08);
    color:#fff; padding:.6rem .9rem; border-radius:10px; cursor:pointer; font-weight:600;
    transition: transform .06s ease; backdrop-filter: blur(6px);
  }
  button.ui:active{ transform: scale(.98) }

  /* Khu danh s√°ch t√≠ch l≈©y */
  .list-wrap{
    width:min(960px, 94vw);
    margin-top:14px;
    background: var(--card-bg);
    border:1px solid rgba(255,255,255,.08);
    border-radius: var(--card-br);
    padding: 14px 14px;
    overflow:auto;
    flex: 1 1 auto;
    box-shadow: 0 10px 30px rgba(0,0,0,.35) inset, 0 10px 30px rgba(0,0,0,.25);
  }
  .wishes{
    display:flex; flex-direction:column; gap: var(--line-gap);
    padding: 2px 2px 120px;  /* ch·ª´a ch·ªó cho b√°nh sinh nh·∫≠t */
  }
  .wish{
    font-size: var(--font-size);
    font-weight:700; letter-spacing:.35px;
    line-height:1.25;
    background: var(--wish-gradient);
    background-size:1200% 1200%;
    -webkit-background-clip:text; -webkit-text-fill-color:transparent;
    animation: grad 14s ease infinite;
    text-shadow: 0 0 18px rgba(255,255,255,.2);
    filter: drop-shadow(0 0 6px rgba(255,255,255,.08));
    will-change: transform, opacity;
    opacity:0; transform: translateY(10px) scale(.98);
    word-break: break-word;
  }
  .wish.rtl{ direction: rtl }
  .wish.in{ animation: fadeInUp .55s ease forwards }
  @keyframes fadeInUp{
    to { opacity:1; transform: translateY(0) scale(1) }
  }

  /* B√°nh sinh nh·∫≠t ƒë√°y */
  .cake{
    position:fixed; bottom:10px; left:50%; transform:translateX(-50%);
    width:min(360px, 70vw); z-index:1; opacity:.95;
  }
  .flame{ transform-origin:center; animation: flame .9s ease-in-out infinite }
  @keyframes flame{
    0%,100%{ transform: scale(1) translateY(0) }
    50%{ transform: scale(1.06) translateY(-1px) }
  }

  /* N√∫t b·∫≠t nh·∫°c n·∫øu b·ªã ch·∫∑n autoplay */
  .sound-btn{
    position:fixed; right:16px; bottom:16px; z-index:3;
    background:rgba(255,255,255,.12); color:#fff; border:1px solid rgba(255,255,255,.25);
    padding:.7rem 1rem; border-radius:999px; backdrop-filter:blur(6px);
    cursor:pointer; font-weight:600;
  }
  .hidden{display:none}
</style>
</head>
<body>
  <!-- Ph√°o hoa -->
  <canvas id="fx"></canvas>

  <!-- N·ªôi dung -->
  <div class="stage">
    <div class="hdr">
      <h1 class="title">Happy Birthday, Lucy</h1>
      <span id="count" class="count">0 / 29</span>
    </div>
    <div class="controls">
      <button id="skip" class="ui">Hi·ªán nhanh c√¢u ti·∫øp theo</button>
      <button id="showAll" class="ui">Hi·ªán t·∫•t c·∫£ c√≤n l·∫°i</button>
      <button id="replay" class="ui">Ch·∫°y l·∫°i t·ª´ ƒë·∫ßu</button>
    </div>

    <div class="list-wrap">
      <div id="wishes" class="wishes"></div>
    </div>
  </div>

  <!-- B√°nh sinh nh·∫≠t SVG (n·∫øn nh·∫•p nh√°y) -->
  <svg class="cake" viewBox="0 0 600 220" aria-hidden="true">
    <!-- ƒêƒ©a -->
    <ellipse cx="300" cy="200" rx="220" ry="16" fill="rgba(255,255,255,.08)"/>
    <!-- Th√¢n b√°nh -->
    <rect x="120" y="110" width="360" height="70" rx="14" fill="#ffb3c1"/>
    <rect x="140" y="95"  width="320" height="40" rx="12" fill="#ffd6ff"/>
    <!-- Kem l∆∞·ª£n -->
    <path d="M140,120 q20,20 40,0 t40,0 t40,0 t40,0 t40,0 t40,0 q20,20 40,0 v15 h-320z" fill="#fff"/>
    <!-- N·∫øn -->
    <g transform="translate(300,85)">
      <rect x="-6" y="10" width="12" height="35" rx="3" fill="#9b5de5"/>
      <!-- L·ª≠a -->
      <path class="flame" d="M0,0 C-6,-10 -6,-18 0,-24 C6,-18 6,-10 0,0Z" fill="#ffd166" stroke="#ff9f1c" stroke-width="1"/>
    </g>
  </svg>

  <!-- Nh·∫°c n·ªÅn (t√πy ch·ªçn): thay AUDIO_SRC_HERE b·∫±ng link RAW mp3 c·ªßa b·∫°n -->
  <audio id="bgm" src="https://raw.githubusercontent.com/anhvu1411/HPBD-/main/fitness-instructor.mp3" autoplay loop playsinline></audio>
  <button id="soundBtn" class="sound-btn hidden">üîä Tap for music</button>

<script>
/* ========== 29 c√¢u ch√∫c (kh√¥ng ch√∫ th√≠ch ng√¥n ng·ªØ) ========== */
const DATA = [
  { t:"Happy Birthday, Lucy" },
  { t:"Ch√∫c m·ª´ng sinh nh·∫≠t, Lucy" },
  { t:"ÿπŸäÿØ ŸÖŸäŸÑÿßÿØ ÿ≥ÿπŸäÿØÿå ŸÑŸàÿ≥Ÿä", rtl:true },
  { t:"Joyeux anniversaire, Lucy" },
  { t:"Alles Gute zum Geburtstag, Lucy" },
  { t:"Feliz cumplea√±os, Lucy" },
  { t:"Feliz anivers√°rio, Lucy" },
  { t:"Buon compleanno, Lucy" },
  { t:"–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, –õ—é—Å–∏" },
  { t:"ÁîüÊó•Âø´‰πêÔºåÈú≤Ë•ø" },
  { t:"ÁîüÊó•Âø´Ê®ÇÔºåÈú≤Ë•ø" },
  { t:"„É´„Éº„Ç∑„Éº„ÄÅ„ÅäË™ïÁîüÊó•„Åä„ÇÅ„Åß„Å®„ÅÜ" },
  { t:"ÏÉùÏùº Ï∂ïÌïòÌï¥, Î£®Ïãú" },
  { t:"‡§ú‡§®‡•ç‡§Æ‡§¶‡§ø‡§® ‡§Æ‡•Å‡§¨‡§æ‡§∞‡§ï ‡§π‡•ã, ‡§≤‡•Ç‡§∏‡•Ä" },
  { t:"‡¶∂‡ßÅ‡¶≠ ‡¶ú‡¶®‡ßç‡¶Æ‡¶¶‡¶ø‡¶®, ‡¶≤‡ßÅ‡¶∏‡¶ø" },
  { t:"Doƒüum g√ºn√ºn kutlu olsun, Lucy" },
  { t:"‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î, ‡∏•‡∏π‡∏ã‡∏µ‡πà" },
  { t:"ŒßŒ±œÅŒøœçŒºŒµŒΩŒ± Œ≥ŒµŒΩŒ≠Œ∏ŒªŒπŒ±, ŒõŒøœçœÉŒπ" },
  { t:"◊ô◊ï◊ù ◊î◊ï◊ú◊ì◊™ ◊©◊û◊ó, ◊ú◊ï◊°◊ô", rtl:true },
  { t:"ÿ™ŸàŸÑÿØÿ™ ŸÖÿ®ÿßÿ±⁄©ÿå ŸÑŸàÿ≥€å", rtl:true },
  { t:"Selamat ulang tahun, Lucy" },
  { t:"Selamat hari jadi, Lucy" },
  { t:"V≈°echno nejlep≈°√≠ k narozenin√°m, Lucy" },
  { t:"Grattis p√• f√∂delsedagen, Lucy" },
  { t:"Hyv√§√§ syntym√§p√§iv√§√§, Lucy" },
  { t:"Palju √µnne s√ºnnip√§evaks, Lucy" },
  { t:"Boldog sz√ºlet√©snapot, Lucy" },
  { t:"Sto lat, Lucy" },
  { t:"La mul»õi ani, Lucy" },
];

const listEl = document.getElementById('wishes');
const countEl = document.getElementById('count');
const btnSkip = document.getElementById('skip');
const btnAll  = document.getElementById('showAll');
const btnReplay = document.getElementById('replay');

let idx = 0, running = false, revealAllFast = false;

function updateCount(){
  countEl.textContent = `${Math.min(idx, DATA.length)} / ${DATA.length}`;
}

function addWish(item){
  const div = document.createElement('div');
  div.className = 'wish';
  if(item.rtl) div.classList.add('rtl');
  div.textContent = item.t;
  listEl.appendChild(div);
  // trigger animation
  requestAnimationFrame(()=> div.classList.add('in'));
  // auto-scroll xu·ªëng d√≤ng m·ªõi
  listEl.parentElement.scrollTop = listEl.parentElement.scrollHeight;
  updateCount();
}

async function playSequence(){
  if(running) return;
  running = true;
  for(; idx < DATA.length; idx++){
    addWish(DATA[idx]);
    // n·∫øu ng∆∞·ªùi d√πng b·∫•m "Hi·ªán t·∫•t c·∫£" th√¨ b·ªè delay
    if(revealAllFast) continue;
    // Delay gi·ªØa c√°c c√¢u (ƒëi·ªÅu ch·ªânh nhanh/ch·∫≠m t·∫°i ƒë√¢y)
    await sleep(900);
  }
  running = false;
}

btnSkip.onclick = ()=>{
  if(idx < DATA.length){
    addWish(DATA[idx]);
    idx++;
    // n·∫øu ƒëang ch·∫°y ch·∫≠m, v·∫´n ti·∫øp t·ª•c; n·∫øu ƒë√£ xong th√¨ th√¥i
    if(!running) playSequence();
  }
};
btnAll.onclick = ()=>{
  revealAllFast = true;
  if(!running) playSequence();
};
btnReplay.onclick = ()=>{
  idx = 0; revealAllFast = false; running = false;
  listEl.innerHTML = '';
  updateCount();
  playSequence();
};

function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }

updateCount();
playSequence();

/* ====== Ph√°o hoa canvas si√™u g·ªçn ====== */
const c = document.getElementById('fx');
const ctx = c.getContext('2d', { alpha: true });
let W, H, dpr = Math.min(window.devicePixelRatio||1, 2);
function resize(){
  W = c.width = Math.floor(innerWidth * dpr);
  H = c.height = Math.floor(innerHeight * dpr);
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
addEventListener('resize', resize); resize();

const sparks = [];
function burst(x,y,colors){
  const N = 60 + Math.random()*40;
  for(let i=0;i<N;i++){
    const a = Math.random()*Math.PI*2;
    const v = 2 + Math.random()*4;
    sparks.push({
      x, y, vx: Math.cos(a)*v, vy: Math.sin(a)*v - 2,
      life: 60+Math.random()*30, age:0,
      color: colors[Math.floor(Math.random()*colors.length)]
    });
  }
}
function loop(){
  ctx.fillStyle = 'rgba(7,6,10,0.25)';
  ctx.fillRect(0,0,innerWidth,innerHeight);
  for(let i=sparks.length-1;i>=0;i--){
    const p = sparks[i];
    p.age++; p.x += p.vx; p.y += p.vy; p.vy += 0.04; // gravity
    const t = 1 - p.age/p.life;
    if(t<=0){ sparks.splice(i,1); continue; }
    ctx.beginPath();
    ctx.arc(p.x, p.y, 2.2*t + 0.6, 0, Math.PI*2);
    ctx.fillStyle = p.color; ctx.globalAlpha = Math.max(t, .15);
    ctx.fill(); ctx.globalAlpha = 1;
  }
  requestAnimationFrame(loop);
}
loop();

// T·ª± b·∫Øn ph√°o hoa ƒë·ªãnh k·ª≥ + khi ng∆∞·ªùi d√πng ch·∫°m/click
const palette = [
  '#ff4d6d','#f7aef8','#9b5de5','#00bbf9','#00f5d4','#ffd166','#ff9f1c'
];
setInterval(()=>{
  burst(Math.random()*innerWidth, innerHeight*(.25+.5*Math.random()), palette);
}, 1100);
addEventListener('click', e=> burst(e.clientX, e.clientY, palette));
addEventListener('touchstart', e=>{
  const t = e.touches[0]; burst(t.clientX, t.clientY, palette);
},{passive:true});

/* ====== Audio: x·ª≠ l√Ω autoplay ====== */
const audio = document.getElementById('bgm');
const btn = document.getElementById('soundBtn');
if(audio){
  audio.volume = 0.6;
  const tryPlay = () => audio.play().then(()=> btn.classList.add('hidden')).catch(()=> btn.classList.remove('hidden'));
  const unlock = ()=>{ tryPlay(); removeEventListener('touchstart', unlock); removeEventListener('click', unlock); };
  tryPlay();
  addEventListener('touchstart', unlock, {once:true});
  addEventListener('click', unlock, {once:true});
  btn && btn.addEventListener('click', tryPlay);
  document.addEventListener('visibilitychange', ()=>{ if(!document.hidden && audio.paused) tryPlay(); });
}
</script>
</body>
</html>

