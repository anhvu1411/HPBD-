<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Happy Birthday Lucy</title>
<style>
  :root{
    --typing-speed:40;       /* ms / ký tự */
    --hold-time:900;         /* giữ sau khi gõ xong (ms) */
    --fade-time:450;         /* thời gian mờ dần (ms) */
    --font-size:clamp(26px, 6vw, 64px);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; background:#000;
    display:grid; place-items:center;
    font-family:"Segoe UI",system-ui,-apple-system,Arial,"Noto Color Emoji",sans-serif;
  }
  .wrap{ width:min(92vw,1000px); text-align:center; padding:2rem; }
  .heart{
    position:fixed; inset:0; display:grid; place-items:center;
    pointer-events:none; opacity:.12; filter:blur(1px);
    font-size:clamp(120px, 35vw, 420px); line-height:0;
  }
  .line{
    display:inline-block;
    font-weight:700; letter-spacing:.5px;
    font-size:var(--font-size);
    background:linear-gradient(270deg,#ff4d6d,#f7aef8,#9b5de5,#00bbf9,#00f5d4,#ff4d6d);
    background-size:1200% 1200%;
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    animation:gradient 12s ease infinite;
    border-right:2px solid #fff; /* caret */
    white-space:nowrap; overflow:hidden;
    text-shadow:0 0 18px rgba(255,255,255,0.25);
  }
  @keyframes gradient{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }
  .fade-out{ animation:fade var(--fade-time) ease forwards }
  @keyframes fade{ to{ opacity:0; filter:blur(2px) } }
  .rtl{ direction: rtl } /* cho tiếng Ả Rập/Hebrew/Persian */
  .credit{
    position:fixed; bottom:14px; width:100%; text-align:center;
    font-size:12px; letter-spacing:.2px; opacity:.5; color:#aaa;
  }
</style>
</head>
<body>
  <div class="heart">❤</div>
  <div class="wrap">
    <span id="text" class="line"></span>
  </div>
  <div class="credit">Happy Birthday, Lucy — multilingual wishes</div>

<script>
const wishes = [
  { t:"Happy Birthday, Lucy" },
  { t:"Chúc mừng sinh nhật, Lucy" },
  { t:"عيد ميلاد سعيد، لوسي", rtl:true },
  { t:"Joyeux anniversaire, Lucy" },
  { t:"Alles Gute zum Geburtstag, Lucy" },
  { t:"Feliz cumpleaños, Lucy" },
  { t:"Feliz aniversário, Lucy" },
  { t:"Buon compleanno, Lucy" },
  { t:"С днём рождения, Люси" },
  { t:"生日快乐，露西" },
  { t:"生日快樂，露西" },
  { t:"ルーシー、お誕生日おめでとう" },
  { t:"생일 축하해, 루시" },
  { t:"जन्मदिन मुबारक हो, लूसी" },
  { t:"শুভ জন্মদিন, লুসি" },
  { t:"Doğum günün kutlu olsun, Lucy" },
  { t:"สุขสันต์วันเกิด, ลูซี่" },
  { t:"Χαρούμενα γενέθλια, Λούσι" },
  { t:"יום הולדת שמח, לוסי", rtl:true },
  { t:"تولدت مبارک، لوسی", rtl:true },
  { t:"Selamat ulang tahun, Lucy" },
  { t:"Selamat hari jadi, Lucy" },
  { t:"Všechno nejlepší k narozeninám, Lucy" },
  { t:"Grattis på födelsedagen, Lucy" },
  { t:"Hyvää syntymäpäivää, Lucy" },
  { t:"Palju õnne sünnipäevaks, Lucy" },
  { t:"Boldog születésnapot, Lucy" },
  { t:"Sto lat, Lucy" },
  { t:"La mulți ani, Lucy" },
];

const el = document.getElementById('text');
const sleep = ms => new Promise(r => setTimeout(r, ms));

async function typeLine(str, rtl){
  el.classList.toggle('rtl', !!rtl);
  el.textContent = '';
  el.style.opacity = '1';
  el.classList.remove('fade-out');

  for(let i=0;i<str.length;i++){
    el.textContent = str.slice(0,i+1);
    await sleep(getTypingSpeed(str[i]));
  }
  await sleep(getHoldTime(str.length));
  el.classList.add('fade-out');
  await sleep(parseFloat(getComputedStyle(document.documentElement)
            .getPropertyValue('--fade-time')));
  el.textContent = '';
  el.classList.remove('fade-out');
}
function getTypingSpeed(ch){
  const base = parseInt(getCSSVar('--typing-speed'),10);
  return /\s/.test(ch) ? base*1.2 : base;
}
function getHoldTime(len){
  const hold = parseInt(getCSSVar('--hold-time'),10);
  return hold + Math.min(1200, len*18);
}
function getCSSVar(name){
  return getComputedStyle(document.documentElement).getPropertyValue(name).trim() || '0';
}
async function run(){
  while(true){
    for(const item of wishes){
      await typeLine(item.t, item.rtl);
    }
  }
}
run();
</script>
</body>
</html>
